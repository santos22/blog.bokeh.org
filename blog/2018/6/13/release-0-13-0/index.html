<!doctype html>
<meta charset="utf-8">
<head>

<link rel="stylesheet" href="../../../../../static/normalize.css">
<link rel="stylesheet" href="../../../../../static/skeleton.css">
<link rel="stylesheet" href="../../../../../static/style.css">
<link rel="stylesheet" href="../../../../../static/gen/styles.css">
<link rel="stylesheet" href="../../../../../static/custom.css">
<link rel="stylesheet" href="../../../../../static/pygments.css">

<!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
<link rel="icon" type="image/png" href="/favicon.ico">

<!-- Mobile Specific Metas
–––––––––––––––––––––––––––––––––––––––––––––––––– -->
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- FONT
–––––––––––––––––––––––––––––––––––––––––––––––––– -->
<link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">

<title>Bokeh 0.13.0 Released | Bokeh Org</title>

</head>
<body>
    <div class="navbar-spacer"></div>
    <nav class="navbar">
      <div class="container">
        <ul class="navbar-list">
            <li class="navbar-item"><a class="navbar-link" href="/">Home</a></li>
            <li class="navbar-item"><a class="navbar-link" href="https://bokeh.pydata.org/en/latest">Documentation</a></li>
            <li class="navbar-item"><a class="navbar-link" href="/blog">Blog</a></li>
        </ul>
      </div>
    </nav>

    <div class="body-wrapper">
      
  <div class="blog-post">
    
  
    
  <div class="container">
    <div class="row">
      <div class="eleven columns">
        
      <div class="meta-bar">
        <h1>Bokeh 0.13.0 Released</h1>
        <p class="meta">
          by
          
            Bryan Van de Ven
          
          on Wednesday, June 13, 2018
        </p>
      </div>
    
      </div>
    </div>
  </div>

  
  
    
      
  <div class="container">
    <div class="row">
      <div class="eleven columns">
        <div class="text-block text-block-default">
  <p>We are pleased to announce the release of Bokeh 0.13.0!</p>
<p>Highlights include:</p>
<ul>
<li>Bokeh app components are embeddable in custom templates <a href="https://github.com/bokeh/bokeh/issues/4986"><code>#4986</code></a>, <a href="https://github.com/bokeh/bokeh/issues/7978"><code>#7978</code></a></li>
<li>New RangeTool added for selecting ranges interactively <a href="https://github.com/bokeh/bokeh/issues/7795"><code>#7795</code></a></li>
<li>Max websocket message size now configurable <a href="https://github.com/bokeh/bokeh/issues/7374"><code>#7374</code></a></li>
<li>Significant performance improvement for property validation <a href="https://github.com/bokeh/bokeh/issues/7977"><code>#7977</code></a></li>
<li>Added <code>cumsum</code> transform to cumulatively sum CDS columns <a href="https://github.com/bokeh/bokeh/issues/7961"><code>#7961</code></a></li>
<li>Simplified hover tool usage <a href="https://github.com/bokeh/bokeh/pull/7921"><code>#7921</code></a></li>
<li>DataTable regressions fixed <a href="https://github.com/bokeh/bokeh/issues/7891"><code>#7891</code></a>, <a href="https://github.com/bokeh/bokeh/issues/7924"><code>#7924</code></a></li>
</ul>
<p>Plus several other bug fixes and documentation improvements.
For full details, see the <a href="https://github.com/bokeh/bokeh/blob/master/CHANGELOG">CHANGELOG</a>
and <a href="https://bokeh.pydata.org/en/latest/docs/releases.html">Release Notes</a>.
Additionally, examples for each release are uploaded to CDN.
<a href="https://cdn.pydata.org/bokeh/examples/examples-0.13.0.zip">Click here to download</a>.</p>
<hr>
<p>If you are using
<a href="https://www.anaconda.com/downloads">Anaconda</a>, Bokeh can most easily be installed
by executing the command <code>conda install -c bokeh bokeh</code> . Otherwise, use
<code>pip install bokeh</code>.</p>
<hr>
<h4>Upcoming 1.0</h4>
<p>Bokeh development has reached a point of stability.
While there is still plenty of work to be done (expanding test coverage,
improving documentation,  fixing lots of bugs, and adding new features), the
core feature set is largely complete with respect to the original roadmap.
Most importantly, the API is now in a place that the core team is happy
with and prepared to defend over a longer term. In recognition of this development:</p>
<center><h5><b>The next release will be Bokeh 1.0</b></h5></center><p>We will spend a short period of time working on some high priority tasks, and
making some necessary changes to our build and release infrastructure. We can use
help during this time! There will be more frequent <code>1.0.0dev</code> releases in this time,
please help test with them as much as possible. Of course, any code or documentation
help is also still very appreciated. Come by the <a href="https://gitter.im/bokeh/bokeh-dev">Gitter "Dev" channel</a>
and ask about how to get started.</p>
<p><em>For those curious: the reason for the version bump to 13 now after such a long <code>0.12.x</code> series
it that some build and deployment infrastructure switched over to NumFocus assets, and
we wanted to have a clear demarcation of that switchover.</em></p>
<h4>Improved Support for Custom Templates</h4>
<p>When Bokeh was started, we had a grand ambition of being able to work purely from Python,
"No web-tech required!" To that end we built a layout system that can be used to construct
web UIs with rows and columns and grids of things. And it works reasonably well for simple
things. If you are prioritizing ease-of-use it can even do for some less simple things.
But inevitably, users wanted to use Bokeh for very sophisticated layouts that&mdash;more
sophisticated than the built-in layout can handle.</p>
<p>Until now, only Bokeh standalone documents could flexibly embed individual plots and widgets,
using the <code>components</code> function. Bokeh applications were constrained to use only a single top-level Bokeh
layout, and this proved to be extremely limiting for users that wished to build sophisticated
dashboards with Bokeh. With the release of <code>0.13.0</code>, it
is now possible to embed individual application components as well. As an example, here is a Bokeh app with
several components placed individually inside a Bootstrap dashboard layout template:</p>
<div class="image"><center><img src="dash.png" width="90%"></center></div><p>In this case we add roots to the document that have a <code>name</code> property set:</p>
<div class="highlight"><pre><span></span><span class="n">plot</span> <span class="o">=</span> <span class="n">figure</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">sizing_mode</span><span class="o">=</span><span class="s2">&quot;scale_both&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;region&quot;</span><span class="p">)</span>

<span class="n">curdoc</span><span class="p">()</span><span class="o">.</span><span class="n">add_root</span><span class="p">(</span><span class="n">plot</span><span class="p">)</span>
</pre></div>
<p>Then, those roots can be referred to in your own Jinja template
blocks like this:</p>
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;col-md-4 col-sm-4 col-xs-12&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;x_panel tile fixed_height_320 overflow_hidden&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;x_title&quot;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>By Region<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;clearfix&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    {{ embed(roots.region) }}
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
<p>To be sure, there are still issues and kinks to work out. But this advances the possibilities
for Bokeh applications a long way, and we look forward to seeing what users come up with!</p>
<h4>Range Selection Tool</h4>
<p>It's always nice when a very old issue can be closed, and I am happy to report that the
long standing request for a "range" tool has been completed. It is now possible to create
a <code>RangeTool</code> to automatically control a range:</p>
<div class="highlight"><pre><span></span><span class="c1"># This tool will control the x range on `plot`</span>
<span class="n">range_rool</span> <span class="o">=</span> <span class="n">RangeTool</span><span class="p">(</span><span class="n">x_range</span><span class="o">=</span><span class="n">plot</span><span class="o">.</span><span class="n">x_range</span><span class="p">)</span>
</pre></div>
<p>The tool will display an overlay on the plot it is added to, and this overlay can
be dragged and resized to update the range it is configured with. This is often useful
for allowing users to zoom in on long time series plots:</p>
<div>
<center>
<script src="range_tool.js" id="7fce7b88-5bb2-4c7d-9e6e-20b94bf95ff1"></script>
</center></div><p>It's also possible to configure the tool with both an <code>x_range</code> and a <code>y_range</code> at the
same time, in which case the overlay is a box that can be dragged and resized in both
horizontal and vertical directions.</p>
<h4>New Cumulative Sum Transform</h4>
<p>A new <code>cumsum</code> transform was added to <code>bokeh.transforms</code>. This transform generates a
sequence of cumulative sums from the values in a <code>ColumnDataSource</code> column. This can be
useful for simplifying any plot that needs to position things based on running totals, such
as pie or donut charts:</p>
<div class="highlight"><pre><span></span><span class="n">p</span><span class="o">.</span><span class="n">wedge</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span>
        <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="n">fill_color</span><span class="o">=</span><span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="s1">&#39;country&#39;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="n">data</span>

        <span class="c1"># Use a cumulative sum on the angles to compute start/end</span>
        <span class="n">start_angle</span><span class="o">=</span><span class="n">cumsum</span><span class="p">(</span><span class="s1">&#39;angle&#39;</span><span class="p">,</span> <span class="n">include_zero</span><span class="o">=</span><span class="bp">True</span><span class="p">),</span> <span class="n">end_angle</span><span class="o">=</span><span class="n">cumsum</span><span class="p">(</span><span class="s1">&#39;angle&#39;</span><span class="p">))</span>
</pre></div>
<div>
<center>
<script src="pie.js" id="b297c624-57f8-442d-8cf8-2703ee7fa550"></script>
</center></div><h4>Hover Tooltip Improvements</h4>
<p>The hover tool has had some limitations in some circumstances in the past.
Specfically, users have wanted to display a hover name depending on the glyph
that is hovered over. Previously, this would require creating and sending an
entire column filled with the name, which is wasteful and redundant. Now, the
<code>name</code> property of a glyph may be displayed in a hover tooltip by using the new
<code>$name</code> special variable:</p>
<div class="highlight"><pre><span></span><span class="n">p</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span>  <span class="c1"># &quot;$name&quot; displays &quot;foo&quot; over these circles</span>
<span class="n">p</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;bar&quot;</span><span class="p">)</span>  <span class="c1"># and displays &quot;bar&quot; over these</span>
</pre></div>
<p>Additionally, there were some difficultes with stacked charts. Basically, there was
no easy way to have the different glyphs for each stack level refer to different columns.
Before, the only way to accomplish this was to create a separate new <code>HoverTool</code> for each stack layer.
Now, there is a way to add some indirection, by using the column variable <code>@$name</code>.
This syntax means: use the value of <code>$name</code> to specify the column name to display
in the tooltip. Stack methods such as <code>vbar_stack</code> also
now automatically set <code>name</code> of each renderer to the corresponding stack value, to make
things even simpler:</p>
<div class="highlight"><pre><span></span><span class="n">regions</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;East&quot;</span><span class="p">,</span> <span class="s2">&quot;Central&quot;</span><span class="p">,</span> <span class="s2">&quot;West&quot;</span><span class="p">)</span>

<span class="c1"># The glyph for each stack level will set name to a different region,</span>
<span class="c1"># and &quot;@$name&quot; will display values from a corresponding column for each</span>
<span class="c1"># glyph, e.g. @East, @Central, @North</span>
<span class="n">p</span><span class="o">.</span><span class="n">vbar_stack</span><span class="p">(</span><span class="n">departments</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
<p>Finally, in an effort to streamline the use of hover tools, the <code>figure</code> function
now accepts an optional <code>tooltips</code> argument. Supplying tooltips this way will cause
a <code>HoverTool</code> to be created and added to the plot (if needed), and configured with
those tooltips.</p>
<p>A stacked bar example below demonstrates all of these changes:</p>
<div class="highlight"><pre><span></span><span class="n">fruits</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Apples&#39;</span><span class="p">,</span> <span class="s1">&#39;Pears&#39;</span><span class="p">,</span> <span class="s1">&#39;Nectarines&#39;</span><span class="p">,</span> <span class="s1">&#39;Plums&#39;</span><span class="p">,</span> <span class="s1">&#39;Grapes&#39;</span><span class="p">,</span> <span class="s1">&#39;Strawberries&#39;</span><span class="p">]</span>
<span class="n">years</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;2015&quot;</span><span class="p">,</span> <span class="s2">&quot;2016&quot;</span><span class="p">,</span> <span class="s2">&quot;2017&quot;</span><span class="p">]</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;#c9d9d3&quot;</span><span class="p">,</span> <span class="s2">&quot;#718dbf&quot;</span><span class="p">,</span> <span class="s2">&quot;#e84d60&quot;</span><span class="p">]</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;fruits&#39;</span> <span class="p">:</span> <span class="n">fruits</span><span class="p">,</span>
        <span class="s1">&#39;2015&#39;</span>   <span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
        <span class="s1">&#39;2016&#39;</span>   <span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
        <span class="s1">&#39;2017&#39;</span>   <span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">]}</span>

<span class="c1"># The &quot;$name&quot; variable shows the hovered glyphs&#39;s name property (i.e. a year)</span>
<span class="c1"># and the variable &quot;@$name&quot; looks up a column of the same name</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">figure</span><span class="p">(</span><span class="n">x_range</span><span class="o">=</span><span class="n">fruits</span><span class="p">,</span> <span class="n">plot_height</span><span class="o">=</span><span class="mi">250</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Fruit Counts by Year&quot;</span><span class="p">,</span>
           <span class="n">toolbar_location</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">tools</span><span class="o">=</span><span class="s2">&quot;hover&quot;</span><span class="p">,</span> <span class="n">tooltips</span><span class="o">=</span><span class="s2">&quot;$name @fruits: @$name&quot;</span><span class="p">)</span>

<span class="c1"># Each sub-renderer has &quot;name&quot; property set (to a year) automatically</span>
<span class="n">p</span><span class="o">.</span><span class="n">vbar_stack</span><span class="p">(</span><span class="n">years</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;fruits&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
             <span class="n">legend</span><span class="o">=</span><span class="p">[</span><span class="n">value</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">years</span><span class="p">])</span>
</pre></div>
<div>
<center>
<script src="hover.js" id="1125d527-a5d1-4882-9032-77fff062c52f"></script>
</center></div><h4>NumFocus Committee Change</h4>
<p>When Bokeh was first applying for NumFocus fiscal sponsorship, Jake Vanderplas
genererously stepped in to help round out the required project committee.
Recently it became possible for long-time Bokeh contributor
<a href="https://github.com/canavandl">Luke Canavan</a> to join the committee, so Jake is
stepping aside. Thanks Jake, and welcome Luke!</p>
<hr>
<p>I'd like to thank the <a href="https://github.com/bokeh/bokeh/graphs/contributors">298 total contributors</a>
who have helped make Bokeh such an amazing project. If you're interested in
helping out, drop by the <a href="https://gitter.im/bokeh/bokeh-dev">Dev Chat Channel</a>!</p>
<p>Thanks,</p>
<p>Bryan Van de Ven</p>

</div>
      </div>
    </div>
  </div>

    
  


    
    
    
    <div class="container">
      <div class="row">
        <div class="eight columns">
        
          <div class="nav-prev">
            <a href="../../../../../blog/2018/5/15/release-0-12-16/">Previous: Bokeh 0.12.16 Released</a>
          </div>
        
        
        </div>
      </div>
    </div>
  </div>

    </div>

    
    <div class="bottomsummary">
      <div class="container">
      </div>
    </div>
    

    
    <footer>
      <div class="container">
        <div class="row">
          <div class="four columns icon-bar">
            <a href="https://github.com/bokeh/bokeh/" title="Bokeh on GitHub"
              ><i class="fa fa-github"></i></a>
            <a href="https://github.com/bokeh/bokeh/issues/" title="Report Issues for Bokeh"
              ><i class="fa fa-bug"></i></a>
            <a href="https://twitter.com/BokehPlots" title="Find Bokeh on Twitter"
              ><i class="fa fa-twitter"></i></a>
            <a href="https://gitter.im/bokeh/bokeh" title="Chat on Gitter"
              ><i class="fa fa-comment"></i></a>
            <a href="https://github.com/bokeh/bokeh.github.io/tree/source/content/blog/release-0-13-0/contents.lr" title="View source for this page"><i class="fa fa-code"></i></a>
          </div>
        </div>
      </div>
    </footer>
    

<!-- JS
================================================== -->
<script src="https://code.jquery.com/jquery-3.0.0.min.js"></script>

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27761864-7', 'pydata.org');
  ga('user.set', 'anonymizeIp', true);
  ga('send', 'pageview');
</script>

</body>
